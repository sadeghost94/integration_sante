<app-main-nav *ngIf="currentUser "></app-main-nav>
<div class="container">
<div class="register-wrapper" fxLayout="row" fxLayoutAlign="center center" style=" margin-top: 0em; position: relative;">
  <mat-expansion-panel style="width:100%;max-width:50em; margin-top: 2em; margin-bottom: 2em; ">
    <mat-expansion-panel-header >
      <mat-panel-title style="color: #323232; font-weight: bold ">

        <i class="material-icons" style="margin-left: 40%">
          add_box
        </i>
        Ajouter un utilisateur

      </mat-panel-title>
    </mat-expansion-panel-header>
  <mat-card class="box" style=" ">
    <mat-card-header>
      <mat-card-title>Nouvel Utilisateur</mat-card-title>
    </mat-card-header>


    <mat-form-field >

        <input #firstname matInput placeholder="First name"  color="primary"  >
    </mat-form-field>
      <mat-form-field appearance="outline" style="width: 30%;">
        <mat-label>Middle name</mat-label>
        <input #middlename matInput placeholder="Middle name" color="primary"  >
      </mat-form-field>

      <mat-form-field appearance="outline" style="width: 30%;">
        <mat-label>Last name</mat-label>
        <input #lastname matInput placeholder="Last name">
      </mat-form-field>







        <mat-form-field  appearance="outline">
          <mat-label>Role</mat-label>
          <select #profile matInput  matNativeControl  [(ngModel)]="profile.value"  (change)="onSelect(profile.value);">
             <option   *ngFor="let p of profilelist"
                     [value]="p.role"  >
                {{p.name}}
             </option>
            </select>
        </mat-form-field>


      <mat-form-field class="example-full-width" appearance="outline">
        <input #email matInput placeholder="Email" [formControl]="emailFormControl"
               [errorStateMatcher]="matcher">
        <mat-hint>Errors appear instantly!</mat-hint>
        <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
          Please enter a valid email address
        </mat-error>
        <mat-error *ngIf="emailFormControl.hasError('required')">
          Email is <strong>required</strong>
        </mat-error>
      </mat-form-field>



          <!--<mat-form-field class="example-full-width">
            <input formControlName="adresse"   matInput placeholder="adresse : Numero de Rue, City, Province" formControlName="adresse"
            [ngClass]="{ 'is-invalid': submitted && f.adresse.errors }">
          </mat-form-field>-->

    <mat-form-field appearance="outline" >
      <mat-label>Institution code</mat-label>
      <input #institutionCode  [disabled]="institutionCodeDisabled" matInput placeholder="Institution code">
    </mat-form-field>

      <!--<mat-form-field appearance="outline">
        <mat-label>Institution name</mat-label>
        <input #institutionName matInput  [disabled]="true"  placeholder="Institution name">
      </mat-form-field>-->

    <mat-form-field>
      <input #birthday matInput [matDatepicker]="picker" placeholder="Birthday" (dateChange)="getBirthday($event)"
             disabled>
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker disabled="false"></mat-datepicker>
    </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Username</mat-label>
        <input #username matInput placeholder="Username">
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Password</mat-label>
        <input type="password" #password matInput placeholder="Password">
      </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>city</mat-label>
      <input #city matInput placeholder="city" [matAutocomplete]="auto" [formControl]="stateCtrl">
      <mat-autocomplete #auto="matAutocomplete">
        <mat-option *ngFor="let c of cittty" [value]="c" height="2">
          {{ c }}
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>


    <mat-form-field appearance="outline">
      <mat-label>postalCode</mat-label>
      <input #postalCode matInput placeholder="postalCode">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>province</mat-label>
      <input #province matInput placeholder="province">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>street</mat-label>
      <input #street matInput placeholder="street">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>streetNumber</mat-label>
      <input type="number" #streetNumber matInput placeholder="streetNumber">
    </mat-form-field>


      <button mat-stroked-button (click)="register(
      username.value,
      password.value,
      email.value,
      firstname.value,
      lastname.value,
      middlename.value,
      institutionCode.value,
      profile.value,
      city.value,
      postalCode.value,
      province.value,
      street.value,
      streetNumber.value)" color="primary" class="btn-block">Enregistrer
        <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAA
        AAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
      </button>

  </mat-card>
  </mat-expansion-panel>
</div>
<div class="register-wrapper" fxLayout="row" fxLayoutAlign="center center" style=" position: relative; margin-top: -0em">


  <mat-expansion-panel style="  width:100%;max-width:50em; ">
    <mat-expansion-panel-header >
      <mat-panel-title style="color: #323232; font-weight: bold">

        <i class="material-icons" style="margin-left: 40%">

          filter_list
        </i>
        Listes des utilisateurs

      </mat-panel-title>

    </mat-expansion-panel-header>

  </mat-expansion-panel>
</div>
</div>


